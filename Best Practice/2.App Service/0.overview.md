# overview

- Core: App Service Plan and Web App, Linux runtime, environment variables, logs [Done]
- Create the simple dotnet web api and deploy to app service, todo application, then deploy via azure portal [Done]
- Deploy the todo app by using azure CLI [Done]
- Create the simple angular UI to consume the todo application, which was deployed in the Azure app service, and deploy by using Azure CLI [Done]
- Create the second App Service Plan, and containerize those two applications and run two applications on that plan [TODO]

# =======

# Core definition

- App Service Plan: is the machine pool (CPU/RAM/instances and price tier) that the Web Apps/APIs run on. We will pay for the plan, and then we can put one or many apps on it, Those applications will share those machines

  - When we create the Plan, we will chose the region, Operator, SKU. Then we can create the app on that plan
  - When we Reuse the same plan: it will share the same region and OS, similar performances & uptimes needs, and share the resource and cost
  - The disadvantages of running multiples applications on the same App Service Plan: if there is any busy app, it can starve others

- Azure Web App: is an application (code + config + runtime), that will run on the app service plan. The build could be ZIP/Container/GitHub Action

- Linux runtime: is the language stack and version that the app runs on (Net 8, Net 9, Node 20, Python 3.12) provided by App Service. So the app must be built to match the runtime.

- Environment variables: are simple name/value settings that the application can read at the runtime

# =======

# Create the simple dotnet web api and deploy to app service, todo application, then deploy via azure portal

- Create simple dotnet app, which is the todo application, then zip the publish
- Create Web App, and the App Service Plan, and upload this zip file to be deployed

# =======

# Deploy via Azure CLI

- Package the new code

```sh
dotnet publish -c Release -o publish
(cd publish && zip -r ../publish.zip .)
```

- Set variables

```sh
RG="appsvc-learn-rg"
APP="todoapi-app"
```

- Deploy the Zip to production

```sh
az webapp deployment source config-zip -g "$RG" -n "$APP" --src ./publish.zip
```

# =======

# Create the simple angular UI and Deploy to Azure

- Create the simple angular UI within consuming the first todo API server
- Package code `ng build --configuration production`
- Deploy the angular web to Storage Static Website
  - Create the storage account
  - Enable Static Website
  - Update all the file inside dist/todo-ui into the $web

# =======
